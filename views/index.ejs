<!DOCTYPE html>
<html lang="fr">

<head>
  <title><%= title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/jquery.flexdatalist.min.css" />
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
</head>

<body class="p-0 p-lg-5">
  <h1 class="text-center"><%= title %></h1>
  <p class="text-center pb-4">Bienvenue sur notre plateforme de recherche de voitures</p>

  <input id="cars" type="text" placeholder="Marques" class="flexdatalist" data-min-length="1"
    list="search-car" name="search_car" multiple="multiple">

  <datalist id="search-car">
    <% for (const i in brands) {%>
    <option value="<%= brands[i].make_display %>"><%=  brands[i].make_display %> </option>
    <% } %>
  </datalist>

  <div id="spinner" class="d-none row justify-content-center mt-5">
    <div class="spinner-border" style="width: 4rem; height: 4rem;" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
    <div id="card-infos" class="p-0 card d-none bg-light col-12 mx-auto mt-5">
      <div class="card-header">
        <h4 class="card-title"><span id="car-marque-nom"></span></h4>
      </div>
      <div class="card-body">
        <p id="car-marque" class="card-text"></p>
        <p id="car-nom" class="card-text"></p>
        <p id="car-motorisation" class="card-text"></p>
        <p id="car-type" class="card-text"></p>
        <p id="car-pays-origine" class="card-text"></p>
        <p id="car-portes" class="card-text"></p>
        <p id="car-sieges" class="card-text"></p>
        <p id="car-bdv" class="card-text"></p>
        <p id="car-fuel" class="card-text"></p>
        <p id="car-year" class="card-text"></p>
      </div>
    </div>

  
  <div id="card-data" class=" px-3 px-lg-5 py-0 py-lg-5 card bg-light col-12 mx-auto mt-5">
    <div class="row mb-md-4">
      <div id="card-history" class="p-0 card col-12 col-lg-6 bg-light mx-auto">
        <div class="card-header">
            <h4 class="card-title text-center">Historique des recherches</h4>
        </div>
        <ul class="card-body pl-4 text-center mb-0 d-flex justify-content-center flex-column" id="history">
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-12 col-lg-6 p-0 pb-2" id="chart-history-container">
      </div>
      <div class="col-12 col-lg-6 p-0 pb-2" id="chart-container">
      </div>
    </div>
  </div> 




  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="/javascript/jquery.flexdatalist.min.js"></script>
  <script>
    const brands = <%- JSON.stringify(brands) %>;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  <script src="/javascript/chart.js"></script>
  <script src="https://momentjs.com/downloads/moment.min.js"></script>
  
  <script src="/javascript/history.js"></script>
  <script src="/javascript/car-select.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
  </script>

</body>

</html>